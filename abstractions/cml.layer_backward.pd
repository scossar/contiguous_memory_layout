#N canvas 1724 70 1712 1332 16;
#X obj 34 15 inlet;
#X obj 1368 19 inlet dollar_zero;
#X obj 361 85 list split 1;
#X obj 688 113 select relu tanh sigmoid linear;
#X msg 688 146 1;
#X msg 749 146 2;
#X msg 810 146 3;
#X msg 869 146 4;
#X msg 933 146 0;
#X obj 1368 52 s \$0_ns;
#X obj 197 85 s \$0_l;
#X obj 361 147 s \$0_n;
#X obj 407 113 s \$0_n_prev;
#X obj 852 85 s \$0_leak;
#X obj 810 207 s \$0_activation;
#X obj 71 413 spigot 1;
#X obj 132 383 != 1;
#X obj 688 86 symbol;
#X obj 1015 85 s \$0_skip_dz;
#X obj 153 317 r \$0_skip_dz;
#X obj 1179 85 s \$0_initial_layer;
#X obj 34 52 route bang layer_number layer_dims m activation leak skip_dz initial_layer, f 164;
#X obj 524 85 s \$0_m;
#X obj 71 476 cml.dz, f 205;
#X obj 501 377 r \$0_m;
#X obj 705 377 r \$0_l;
#X obj 817 410 r \$0_ns;
#X obj 684 443 cml.array_name dA;
#X obj 910 377 r \$0_l;
#X obj 1014 410 r \$0_ns;
#X obj 889 443 cml.array_name Z;
#X obj 1219 410 r \$0_ns;
#X obj 1094 443 cml.array_name A;
#X obj 1431 410 r \$0_ns;
#X obj 1298 443 cml.array_name dZ;
#X obj 1524 377 r \$0_leak;
#X obj 1729 379 r \$0_activation;
#X obj 1236 634 r \$0_initial_layer;
#N canvas 1035 607 526 394 a_prev_for_layer 0;
#X obj 55 251 cml.array_name A;
#X obj 255 251 cml.input_name;
#X obj 76 160 r \$0_l;
#X obj 76 188 + 1;
#X obj 180 218 r \$0_ns;
#X obj 364 218 r \$0_ns;
#X obj 81 67 t f f, f 18;
#X obj 81 95 != 1;
#X obj 222 95 == 1;
#X obj 81 123 sel 1;
#X obj 222 123 sel 1;
#X obj 55 216 f;
#X obj 81 34 inlet;
#X obj 55 304 outlet;
#X connect 0 0 13 0;
#X connect 1 0 13 0;
#X connect 2 0 3 0;
#X connect 3 0 11 1;
#X connect 4 0 0 1;
#X connect 5 0 1 1;
#X connect 6 0 7 0;
#X connect 6 1 8 0;
#X connect 7 0 9 0;
#X connect 8 0 10 0;
#X connect 9 0 11 0;
#X connect 10 0 1 0;
#X connect 11 0 0 0;
#X connect 12 0 6 0;
#X restore 1215 700 pd a_prev_for_layer;
#X obj 320 641 r \$0_n;
#X obj 549 641 r \$0_n_prev;
#X obj 778 641 r \$0_m;
#X obj 1119 674 r \$0_ns;
#X obj 986 707 cml.array_name dZ;
#X obj 1577 674 r \$0_ns;
#X obj 1444 707 cml.array_name dW;
#X obj 71 742 cml.dw, f 172;
#X obj 71 958 cml.db, f 108;
#X obj 307 860 r \$0_n;
#X obj 522 860 r \$0_m;
#X obj 849 892 r \$0_ns;
#X obj 716 925 cml.array_name dZ;
#X obj 1065 892 r \$0_ns;
#X obj 932 925 cml.array_name db;
#X obj 71 1171 spigot 1;
#X obj 153 1073 r \$0_initial_layer;
#X obj 132 1139 != 1;
#X obj 71 1237 cml.da, f 164;
#X obj 746 1138 r \$0_n;
#X obj 310 1138 r \$0_n_prev;
#X obj 528 1138 r \$0_m;
#X obj 1294 1171 r \$0_ns;
#X obj 1161 1204 cml.array_name dZ;
#X obj 1068 1171 r \$0_ns;
#X obj 943 1204 cml.array_name W;
#X obj 1512 1171 r \$0_ns;
#X obj 1380 1171 + 1;
#X obj 34 1280 outlet bang;
#X obj 1380 1204 cml.array_name dA;
#X obj 296 377 r \$0_n;
#X obj 275 410 f;
#X obj 480 410 f;
#X obj 684 410 f;
#X obj 889 410 f;
#X obj 1115 377 r \$0_l;
#X obj 1094 410 f;
#X obj 1319 377 r \$0_l;
#X obj 1298 410 f;
#X obj 1503 410 f;
#X obj 1708 410 f;
#X obj 132 350 f 0;
#X obj 34 210 t b b b b b b b b b b b, f 47;
#X obj 1465 641 r \$0_l;
#X obj 1444 674 f;
#X obj 1007 641 r \$0_l;
#X obj 986 674 f;
#X obj 1215 667 f 0;
#X obj 299 674 f;
#X obj 528 674 f;
#X obj 757 674 f;
#X obj 34 509 t b b b b b b b b, f 33;
#X obj 286 893 f;
#X obj 501 893 f;
#X obj 737 860 r \$0_l;
#X obj 716 893 f;
#X obj 953 859 r \$0_l;
#X obj 932 892 f;
#X obj 34 775 t b b b b b b, f 24;
#X obj 964 1138 r \$0_l;
#X obj 943 1171 f;
#X obj 1182 1138 r \$0_l;
#X obj 1161 1171 f;
#X obj 1401 1105 r \$0_l;
#X obj 1380 1138 f;
#X obj 132 1106 f 0;
#X obj 289 1171 f;
#X obj 507 1171 f;
#X obj 725 1171 f;
#X obj 34 991 t b b b b b b b b b, f 38;
#X text 172 8 // TODO: move spigot objects to before function calls (params are getting set when not needed) \;;
#X connect 0 0 21 0;
#X connect 1 0 9 0;
#X connect 2 0 11 0;
#X connect 2 1 12 0;
#X connect 3 0 4 0;
#X connect 3 1 5 0;
#X connect 3 2 6 0;
#X connect 3 3 7 0;
#X connect 3 4 8 0;
#X connect 4 0 14 0;
#X connect 5 0 14 0;
#X connect 6 0 14 0;
#X connect 7 0 14 0;
#X connect 8 0 14 0;
#X connect 15 0 23 0;
#X connect 16 0 15 1;
#X connect 17 0 3 0;
#X connect 19 0 80 1;
#X connect 21 0 81 0;
#X connect 21 1 10 0;
#X connect 21 2 2 0;
#X connect 21 3 22 0;
#X connect 21 4 17 0;
#X connect 21 5 13 0;
#X connect 21 6 18 0;
#X connect 21 7 20 0;
#X connect 24 0 71 1;
#X connect 25 0 72 1;
#X connect 26 0 27 1;
#X connect 27 0 23 3;
#X connect 28 0 73 1;
#X connect 29 0 30 1;
#X connect 30 0 23 4;
#X connect 31 0 32 1;
#X connect 32 0 23 5;
#X connect 33 0 34 1;
#X connect 34 0 23 6;
#X connect 35 0 78 1;
#X connect 36 0 79 1;
#X connect 37 0 86 1;
#X connect 38 0 46 5;
#X connect 39 0 87 1;
#X connect 40 0 88 1;
#X connect 41 0 89 1;
#X connect 42 0 43 1;
#X connect 43 0 46 4;
#X connect 44 0 45 1;
#X connect 45 0 46 6;
#X connect 48 0 91 1;
#X connect 49 0 92 1;
#X connect 50 0 51 1;
#X connect 51 0 47 3;
#X connect 52 0 53 1;
#X connect 53 0 47 4;
#X connect 54 0 57 0;
#X connect 55 0 104 1;
#X connect 56 0 54 1;
#X connect 58 0 107 1;
#X connect 59 0 105 1;
#X connect 60 0 106 1;
#X connect 61 0 62 1;
#X connect 62 0 57 5;
#X connect 63 0 64 1;
#X connect 64 0 57 4;
#X connect 65 0 68 1;
#X connect 66 0 68 0;
#X connect 68 0 57 6;
#X connect 69 0 70 1;
#X connect 70 0 23 1;
#X connect 71 0 23 2;
#X connect 72 0 27 0;
#X connect 73 0 30 0;
#X connect 74 0 75 1;
#X connect 75 0 32 0;
#X connect 76 0 77 1;
#X connect 77 0 34 0;
#X connect 78 0 23 7;
#X connect 79 0 23 8;
#X connect 80 0 16 0;
#X connect 81 0 90 0;
#X connect 81 1 15 0;
#X connect 81 2 80 0;
#X connect 81 3 70 0;
#X connect 81 4 71 0;
#X connect 81 5 72 0;
#X connect 81 6 73 0;
#X connect 81 7 75 0;
#X connect 81 8 77 0;
#X connect 81 9 78 0;
#X connect 81 10 79 0;
#X connect 82 0 83 1;
#X connect 83 0 45 0;
#X connect 84 0 85 1;
#X connect 85 0 43 0;
#X connect 86 0 38 0;
#X connect 87 0 46 1;
#X connect 88 0 46 2;
#X connect 89 0 46 3;
#X connect 90 0 97 0;
#X connect 90 1 46 0;
#X connect 90 2 87 0;
#X connect 90 3 88 0;
#X connect 90 4 89 0;
#X connect 90 5 85 0;
#X connect 90 6 86 0;
#X connect 90 7 83 0;
#X connect 91 0 47 1;
#X connect 92 0 47 2;
#X connect 93 0 94 1;
#X connect 94 0 51 0;
#X connect 95 0 96 1;
#X connect 96 0 53 0;
#X connect 97 0 108 0;
#X connect 97 1 47 0;
#X connect 97 2 91 0;
#X connect 97 3 92 0;
#X connect 97 4 94 0;
#X connect 97 5 96 0;
#X connect 98 0 99 1;
#X connect 99 0 64 0;
#X connect 100 0 101 1;
#X connect 101 0 62 0;
#X connect 102 0 103 1;
#X connect 103 0 66 0;
#X connect 104 0 56 0;
#X connect 105 0 57 1;
#X connect 106 0 57 2;
#X connect 107 0 57 3;
#X connect 108 0 67 0;
#X connect 108 1 54 0;
#X connect 108 2 104 0;
#X connect 108 3 105 0;
#X connect 108 4 106 0;
#X connect 108 5 107 0;
#X connect 108 6 99 0;
#X connect 108 7 101 0;
#X connect 108 8 103 0;
